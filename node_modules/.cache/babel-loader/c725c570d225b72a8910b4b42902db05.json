{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\CAGRI\\\\Desktop\\\\RickAndMorty\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\CAGRI\\\\Desktop\\\\RickAndMorty\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\CAGRI\\\\Desktop\\\\RickAndMorty\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\CAGRI\\\\Desktop\\\\RickAndMorty\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\CAGRI\\\\Desktop\\\\RickAndMorty\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\CAGRI\\\\Desktop\\\\RickAndMorty\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\CAGRI\\\\Desktop\\\\RickAndMorty\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\CAGRI\\\\Desktop\\\\RickAndMorty\\\\my-app\\\\src\\\\components\\\\MainPage.js\";\nimport React, { Component } from \"react\";\nimport \"../App.css\";\nimport * as Details from \"../redux/actions\";\n\nvar MainPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MainPage, _Component);\n\n  function MainPage(props) {\n    var _this;\n\n    _classCallCheck(this, MainPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MainPage).call(this, props));\n    _this.state = {\n      imageForChar: [],\n      nameForChar: [],\n      results: [],\n      height: window.innerHeight\n    };\n    _this.handleScroll = _this.handleScroll.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getResult = _this.getResult.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getCharacter = _this.getCharacter.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.detailOfImage = _this.detailOfImage.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(MainPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getResult();\n      this.pageNumber = 2;\n      window.addEventListener(\"scroll\", this.handleScroll);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener(\"scroll\", this.handleScroll);\n    }\n  }, {\n    key: \"handleScroll\",\n    value: function handleScroll() {\n      var _this2 = this;\n\n      // const windowHeight =\n      //   \"innerHeight\" in window\n      //     ? window.innerHeight\n      //     : document.documentElement.offsetHeight;\n      var windowHeight = window.innerHeight;\n      var body = document.body;\n      var html = document.documentElement;\n      var docHeight = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n      var windowBottom = windowHeight + window.pageYOffset;\n\n      if (windowBottom >= docHeight) {\n        if (this.pageNumber < 26) {\n          fetch(\"https://rickandmortyapi.com/api/character/?page=\" + this.pageNumber.toString()).then(function (res) {\n            return res.json();\n          }).then(function (result) {\n            _this2.setState(function (prevState) {\n              return {\n                results: [].concat(_toConsumableArray(prevState.results), _toConsumableArray(result.results))\n              };\n            });\n          });\n        }\n\n        this.pageNumber = this.pageNumber + 1;\n      }\n    }\n  }, {\n    key: \"getResult\",\n    value: function getResult() {\n      var _this3 = this;\n\n      fetch(\"https://rickandmortyapi.com/api/character/\").then(function (res) {\n        return res.json();\n      }).then(function (result) {\n        _this3.setState({\n          results: result.results\n        });\n      });\n    }\n  }, {\n    key: \"getCharacter\",\n    value: function getCharacter(result) {\n      var imageOfChar = [];\n\n      for (var x = 0; x < result.length; x++) {\n        imageOfChar.push(React.createElement(\"div\", {\n          id: x,\n          key: x,\n          onClick: this.detailOfImage,\n          style: {\n            border: \"5px solid\",\n            marginBottom: 10\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: result[x].image,\n          alt: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, result[x].name)));\n      }\n\n      return imageOfChar;\n    }\n  }, {\n    key: \"detailOfImage\",\n    value: function detailOfImage(e) {\n      var indexOfChar = e.currentTarget.id;\n      Details.setRoute(true);\n      Details.setDetailsOfChar(this.state.results[indexOfChar]);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"header\", {\n        className: \"App-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, this.getCharacter(this.state.results));\n    }\n  }]);\n\n  return MainPage;\n}(Component);\n\nexport default MainPage;","map":{"version":3,"sources":["C:\\Users\\CAGRI\\Desktop\\RickAndMorty\\my-app\\src\\components\\MainPage.js"],"names":["React","Component","Details","MainPage","props","state","imageForChar","nameForChar","results","height","window","innerHeight","handleScroll","bind","getResult","getCharacter","detailOfImage","pageNumber","addEventListener","removeEventListener","windowHeight","body","document","html","documentElement","docHeight","Math","max","scrollHeight","offsetHeight","clientHeight","windowBottom","pageYOffset","fetch","toString","then","res","json","result","setState","prevState","imageOfChar","x","length","push","border","marginBottom","image","name","e","indexOfChar","currentTarget","id","setRoute","setDetailsOfChar"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../App.css\";\nimport * as Details from \"../redux/actions\";\n\nclass MainPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      imageForChar: [],\n      nameForChar: [],\n      results: [],\n      height: window.innerHeight\n    };\n    this.handleScroll = this.handleScroll.bind(this);\n    this.getResult = this.getResult.bind(this);\n    this.getCharacter = this.getCharacter.bind(this);\n    this.detailOfImage = this.detailOfImage.bind(this);\n  }\n\n  componentDidMount() {\n    this.getResult();\n    this.pageNumber = 2;\n    window.addEventListener(\"scroll\", this.handleScroll);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  }\n\n  handleScroll() {\n    // const windowHeight =\n    //   \"innerHeight\" in window\n    //     ? window.innerHeight\n    //     : document.documentElement.offsetHeight;\n    const windowHeight = window.innerHeight;\n    const body = document.body;\n    const html = document.documentElement;\n    const docHeight = Math.max(\n      body.scrollHeight,\n      body.offsetHeight,\n      html.clientHeight,\n      html.scrollHeight,\n      html.offsetHeight\n    );\n    const windowBottom = windowHeight + window.pageYOffset;\n    if (windowBottom >= docHeight) {\n      if (this.pageNumber < 26) {\n        fetch(\n          \"https://rickandmortyapi.com/api/character/?page=\" +\n            this.pageNumber.toString()\n        )\n          .then(res => res.json())\n          .then(result => {\n            this.setState(prevState => {\n              return {\n                results: [...prevState.results, ...result.results]\n              };\n            });\n          });\n      }\n      this.pageNumber = this.pageNumber + 1;\n    }\n  }\n\n  getResult() {\n    fetch(\"https://rickandmortyapi.com/api/character/\")\n      .then(res => res.json())\n      .then(result => {\n        this.setState({\n          results: result.results\n        });\n      });\n  }\n\n  getCharacter(result) {\n    let imageOfChar = [];\n    for (let x = 0; x < result.length; x++) {\n      imageOfChar.push(\n        <div\n          id={x}\n          key={x}\n          onClick={this.detailOfImage}\n          style={{ border: \"5px solid\", marginBottom: 10 }}\n        >\n          <img src={result[x].image} alt=\"\" />\n          <p>{result[x].name}</p>\n        </div>\n      );\n    }\n\n    return imageOfChar;\n  }\n\n  detailOfImage(e) {\n    let indexOfChar = e.currentTarget.id;\n    Details.setRoute(true);\n    Details.setDetailsOfChar(this.state.results[indexOfChar]);\n  }\n\n  render() {\n    return (\n      <header className=\"App-header\">\n        {this.getCharacter(this.state.results)}\n      </header>\n    );\n  }\n}\n\nexport default MainPage;\n"]},"metadata":{},"sourceType":"module"}